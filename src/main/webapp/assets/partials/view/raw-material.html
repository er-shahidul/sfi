
<div class="row section_background_4">
<div ng-init="errors = cs6.errors" ng-include="'/assets/partials/form/error.html'"></div>

<div class="col-sm-12" ng-class="{'disabled' : !hasPrimaryYards()}">
<h5>4. Raw Material Supply</h5>
<p>
    (The following questions should be answered for manufacturing facilities covered under the scope of your SFI 2015-2019 Fiber Sourcing Standard certificate)
</p>


<!-- Top section -->
<form name="cs6Form">
<table class="table table-striped vert-align-middle">
    <thead ng-show="operateInUsa() || operateInCa()">
    <tr>
        <th>Private Forest Landowners</th>
        <th ng-class="{'disabled' : !operateInUsa()}" ng-show="operateInUsa()">US</th>
        <th ng-class="{'disabled' : !operateInCa()}" ng-show="operateInCa()">Canada</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-show="operateInUsa() || operateInCa()">
        <td tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Landowners selling timber directly to your organization” means those private landowners with which your organization has a contractual relationship to purchase or harvest timber (i.e., stumpage or logs)."
            >Number of private forest landowners selling timber (stumpage, logs or chips) directly to your organization last year.</td>

        <td ng-show="operateInUsa()">
            <input type="number" readonly  class="form-control  shorter"
                   ng-model="cs6.numPrivateForeOwersUs" ng-class="{'disabled' : !operateInUsa()}">
        </td>

        <td ng-show="operateInCa()">
            <input type="number" readonly  class="form-control  shorter"
                   ng-model="cs6.numPrivateForeOwersCa" ng-disabled="!operateInCa()" >
        </td>
    </tr>
    <tr>
        <td colspan="3" style="border: 0;">
            <div style="margin-left: 35px;margin-top: 20px;">
                <p class="question-style">
                    In your opinion, has the number of trained wood producers in your region of your forestlands changed as
                    compared with last year?
                </p>
                <input icheck type="radio" name="trainedWoodProducersChanged" ng-model="cs6.trainedWoodProducersChanged" value=1> Increased
                <input icheck type="radio" name="trainedWoodProducersChanged" ng-model="cs6.trainedWoodProducersChanged" value=2> Decreased
                <input icheck type="radio" name="trainedWoodProducersChanged" ng-model="cs6.trainedWoodProducersChanged" value=3> Remained the same
            </div>
        </td>
    </tr>
    </tbody>
</table>
</form>
<!-- End Top Section -->
<br/>
<!-- -->

<!-- GRID Section 3 -->
<div class="form-group">

    <label><span tooltip data-html="true" data-placement="top" data-container="body"
           data-title="Raw Material Consumption. In this question SFI Inc. is seeking the volume of raw material (roundwood and whole log chips) your manufacturing facilities (including log and chip exports) used sourced directly from the forest. Volumes do not have to be absolutely precise; they should be rounded to the nearest unit. Please specify the units (board feet, cubic feet, cords, tons, etc.) you are reporting in column 2. ANNEX 1, which can be found at the end of this document, contains the multipliers that are used by SFI Inc. staff to convert various volume units to “thousands of cubic feet” for reporting totals. If you are converting volumes for this report, please use the appropriate multiplier from the table in ANNEX 1, unless you have a more accurate multiplier or conversion factor for your specific region and species."
            >Raw Material Supply -procured directly from the forest to your SFI manufacturing facilities (new!)</span>
    </label>
    (can now drill down to more specific regions for sourcing of fiber supply)
    <a style="text-decoration:underline;" ng-click="lastYear3Pop()">How we used your data last year</a>

    <br/><br/>
    <span>
        Select the individual state or province using the drop-down below to report your procured volume.
    </span>

    <br/><br/>

    <table class="table table-striped" ng-show="usCanada.length || usOthers.length">
        <thead>
        <tr>
            <th>Regions</th>
            <th>Raw Material Sources</th>
        </tr>
        </thead>
        <tbody>
        <!-- Normal supply -->
        <tr ng-repeat="supply in usCanada">
            <td>{{ supply.region.name }}, {{ supply.region.country.country }}</td>
            <td>{{ usCanadaTitle(supply) }}</td>
        </tr>
        <!-- -->

        <!-- Other country supply -->
        <tr ng-repeat="other in usOthers">
            <td>{{ other.country.country }}</td>
            <td>{{ usOtherTitle(other)}}</td>
        </tr>
        <!-- -->

        </tbody>
    </table>
</div>

<!-- FORM 1 / Regional Supply -->

<table class="table table-striped" ng-init="titles = sections" ng-repeat="supply in usCanada">

<!-- Header -->
<thead>
    <tr>
        <th>{{supply.region.name}}, {{supply.region.country.country}}</th>
        <th style="width:175px; text-align:center;">Units &amp; Volume</th>

        <th style="width:120px;  text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="A person with specialized skills in timber harvesting gained through experience or formal training who has successfully completed wood producer training programs and continued education requirements recognized by SFI Implementation Committees."
                >% Delivered by Qualified Logging Professionals</th>

        <th style="width:120px; text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Your best estimate of the percentage of raw materials that came from forests that have been certified to the SFI Standard."
                >% from SFI only certified forests</th>

        <th style="width:120px; text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Your best estimate of the percentage of raw materials that came from forests that have been certified to the American Tree Farm Standard. <br/>Did you know ATFS has a verification certification database to help you determine ATFS certified and ATFS non-certified lands. For more information visit: www.treefarmsystem.org/ atfsverificationdatabase"
                >% from ATFS only certified forests</th>
        <th style="width:120px; text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Your best estimate of the percentage of raw materials that came from forests that have been certified to the Canadian Standards Association standards."

                >% from CSA only  certified forests</th>
        <th style="width:120px; text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Your best estimate of the percentage of raw materials that came from forests that have been certified to Forest Stewardship Council Standards"
                >% from FSC only certified forests (new!)</th>
        <th style="width:180px; text-align:center;">Select standard combination if reporting volume certified to more than one standard (new!)</th>
        <th style="width:120px; text-align:center;"
            tooltip data-html="true" data-placement="top" data-container="body"
            data-title="Your best estimate of fiber sourced from dual or triple certified forests. Note that material sourced from an area certified to only one standard should be reported in the relevant certification standard column."
                >% certified forest to more than one standard (new!)</th>

    </tr>
</thead>
<!-- -->
    <tbody ng-init="sections = supply.sections">

    <tr ng-repeat-start="section in sections track by $index" ng-if="section.row == 1">
        <th style="text-align: center;">Private</th>
        <th colspan="8"></th>
    </tr>

    <tr ng-if="section.row == 7">
        <th style="text-align: center;">Public</th>
        <th colspan="8"></th>
    </tr>

    <tr ng-if="section.row == 11">
        <th style="text-align: center;">Other Sources </th>
        <th colspan="8"></th>
    </tr>


    <tr ng-repeat-end ng-form="innerForm">

        <td style="text-align: right;" ng-init="section.form = innerForm" tooltip data-html="true" data-placement="top" data-container="body"
            data-title="{{titles[$index].tooltip }}">

            <input type="checkbox" disabled name="otherEnable" id="otherEnable" class="icheck" icheck value="0" ng-change="showPopUp3(section)"
                   ng-if="section.row == 11" ng-model="section.otherEnable"/>
            {{titles[$index].name}}


            <div style="text-align: left;margin-top: 10px;" ng-show="section.otherEnable && otherLabel">
                <u><a ng-click="showPopUp3(section)">{{ otherLabel | limitTo: 20 }}</a></u>
            </div>

        </td>

        <td>

            <div ng-class="{'has-error' : isSectionDirty(innerForm) && innerForm.item1.$invalid}">

                <select disabled  class="form-control" name="item1"
                        ng-model="section.unit"
                        ng-required="isSectionDirty(innerForm)">

                    <option value="" ng-selected="!section.unit" >Select Units</option>
                    <option ng-repeat="item in opt1" value="{{ item.id }}" >{{item.name}}</option>

                </select>
            </div>

            <div class="form-group padded alignright"
                 ng-class="{'has-error' : isSectionDirty(innerForm) && innerForm.item2.$invalid}" ng-show="section.unit > 0">

                Volume <input type="text" readonly  style="width: 100px" class="form-control shortest2" name="item2" ng-required="isSectionDirty(innerForm)"
                              ng-disabled="isDisabled(section)" ng-model="section.volume"
                              ng-pattern="/^\d*(\.\d{1,4})?$/" pattern-msg="Enter decimal number up to 4 precision points" customerror
                              ng-model-options="{allowInvalid:true}"  />
            </div>
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item3.$invalid}">
            <input type="text" readonly  class="form-control shorter" max="100" min="0" name="item3" ng-required="isSectionDirty(innerForm)"
                   ng-model="section.percDeliveredQualifiedLogging" ng-disabled="isDisabled(section)"
                   ng-pattern="/^\d*(\.\d{1,2})?$/" pattern-msg="Enter decimal number up to 2 precision points" customerror>%

            <a href="" id="pop-item-{{key}}"
               ng-init="key = supply.region.id + '-' + $index"
               ng-show="section.percDeliveredQualifiedLoggingReason"
               ng-click="showPopUp1View(key, section.percDeliveredQualifiedLoggingReason)">
                <div><small>Reason less than 100%</small></div>
            </a>
            {{section.percDeliveredQualifiedLoggingReason}}
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item4.$invalid}">
            <input type="text" readonly  class="form-control shorter" name="item4"
                   ng-disabled="isDisabled(section)" ng-model="section.percSFIOnlyCertified"
                   ng-pattern="/^\d*(\.\d{1,2})?$/" pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item5.$invalid}">
            <input type="text" readonly  class="form-control  shorter" name="item5"
                   ng-disabled="isDisabled(section)" ng-model="section.percATFSOnlyCertified"
                   ng-pattern="/^\d*(\.\d{1,2})?$/" pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item6.$invalid}">
            <input type="text" readonly  class="form-control  shorter" name="item6"
                   ng-disabled="isDisabled(section)" ng-model="section.percCSAOnlyCertified"
                   ng-pattern="/^\d*(\.\d{1,2})?$/" pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item7.$invalid}">
            <input type="text" readonly  class="form-control  shorter" name="item7"
                   ng-disabled="isDisabled(section)" ng-model="section.percFSCOnlyCertified"
                   ng-pattern="/^\d*(\.\d{1,2})?$/" pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td align="center">

            <div ng-show="section.percCertifedMoreThanOneStandard1">
                <span>SFI/FSC</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard2">
                <span>SFI/ATFS</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard3">
                <span>SFI/CSA</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard4">
                <span>ATFS/FSC</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard5">
                <span>CSA/FSC</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard6">
                <span>SFI/ATFS/FSC</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard7">
                <span>SFI/CSA/FSC</span>
            </div>

            <u>
                <a ng-hide="isDisabled(section)" ng-click="showPopUp2($index)" id="pop-link-{{$index}}">Select Standards</a>
                <span ng-show="isDisabled(section)">Select Standards</span>
            </u>
        </td>

        <td align="center" ng-class="{'has-error' : innerForm.item8.$invalid}">

            <div ng-show="section.percCertifedMoreThanOneStandard1">
                <span>{{ section.percCertifedMoreThanOneStandard1}} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard2">
                <span>{{ section.percCertifedMoreThanOneStandard2 }} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard3">
                <span>{{ section.percCertifedMoreThanOneStandard3 }} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard4">
                <span>{{ section.percCertifedMoreThanOneStandard4 }} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard5">
                <span>{{ section.percCertifedMoreThanOneStandard5 }} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard6">
                <span>{{ section.percCertifedMoreThanOneStandard6 }} %</span>
            </div>
            <div ng-show="section.percCertifedMoreThanOneStandard7">
                <span>{{ section.percCertifedMoreThanOneStandard7 }} %</span>
            </div>
        </td>
    </tr>
    </tbody>

</table>

<!-- FORM 2 -->
<div class="col-sm-12" ng-show="regionId == -1">
    <div class="form-group">
        <label>SFI Inc. is often asked for details on fiber supply and is interested in how much program participant fiber (used by manufacturing facilities in the US or Canada that are covered in the scope of SFI certification) is procured from outside the USA and Canada. The SFI definition of procurement is:  Acquisition of roundwood (sawlogs or pulpwood) and field-manufactured or primary-mill residual chips, pulp, and veneer to support a forest products manufacturing facility.</label>
    </div>
</div>

<table class="table table-striped" ng-show="regionId == -1">

    <!-- Header -->
    <thead>
    <tr>
        <th>Outside Canada & USA</th>
        <th width="15%">Units</th>
        <th>Volume</th>
        <th>% PEFC certified forest content (new!)</th>
        <th>% FSC certified forest content (new!)</th>
        <th>% Dual PEFC/FSC forest content (new!)</th>
        <th>% SFI Fiber Sourcing (new!)</th>
        <th>% Other (new!)</th>
    </tr>
    </thead>


    <!-- Form 2 -->
    <tbody>
    <tr ng-form="innerForm">

        <td ng-init="other.form = innerForm" ng-class="{'has-error' :  innerForm.other1.$invalid}">
            <select disabled  class="form-control" name="other1" id="countryId" customerror
                    ng-model="other.country.id" ng-required="isOtherDirty()">
                <option value>&lt; Select Country &gt;</option>
                <option ng-repeat="item in otherCountries" value="{{ item.id }}">{{item.country}}</option>
            </select>
        </td>

        <td ng-class="{'has-error' : innerForm.other2.$invalid}">
            <select disabled  class="form-control" name="other2" ng-model="other.units" ng-required="isOtherDirty()" customerror>
                <option value="">&lt; Select Units &gt;</option>
                <option ng-repeat="item in opt1" value="{{ item.id }}">{{item.name}}</option>
            </select>

        </td>

        <td ng-class="{'has-error' : innerForm.other3.$invalid}">
            <input type="number" readonly  class="form-control shorter" name="other3" ng-required="isOtherDirty()"
                          ng-model="other.volume" ng-pattern="/^\d*(\.\d{1,4})?$/"
                          pattern-msg="Enter decimal number up to 4 precision points" customerror>
        </td>

        <td ng-class="{'has-error' : innerForm.other4.$invalid}">
            <input type="number" readonly  class="form-control shorter" max="100" min="0" name="other4"
                   ng-model="other.percPEFCCertified" ng-pattern="/^\d*(\.\d{1,2})?$/" min="0" max="100"
                   pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td ng-class="{'has-error' : innerForm.other5.$invalid}">
            <input type="number" readonly  class="form-control shorter" name="other5" min="0" max="100"
                   ng-model="other.percFSCCertified" ng-pattern="/^\d*(\.\d{1,2})?$/"
                   pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td ng-class="{'has-error' : innerForm.other6.$invalid}">
            <input type="number" readonly  class="form-control shorter" name="other6" min="0" max="100"
                   ng-model="other.percPEFCFSCCertified" ng-pattern="/^\d*(\.\d{1,2})?$/"
                   pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td ng-class="{'has-error' : innerForm.other7.$invalid}">
            <input type="number" readonly  class="form-control  shorter" name="other7" min="0" max="100"
                   ng-model="other.percSFIFiberSourcing" ng-pattern="/^\d*(\.\d{1,2})?$/"
                   pattern-msg="Enter decimal number up to 2 precision points" customerror>%
        </td>

        <td ng-class="{'has-error' : innerForm.other8.$invalid}">

            <input type="number" readonly  class="form-control  shorter" name="other8" id="other8" min="0" max="100"
                   ng-model="other.percOther" ng-pattern="/^\d*(\.\d{1,2})?$/" ng-keyup="showPopUp4()" ng-click="showPopUp4()"
                   pattern-msg="Enter decimal number up to 2 precision points" customerror>%

            <div ng-show="other.percOther && other.percOtherReason">
                <a ng-click="showPopUp4()">Assurance responsible sources of supply</a>
            </div>

        </td>
    </tr>
    <!-- -->
    </tbody>
</table>

</div>

</div>
